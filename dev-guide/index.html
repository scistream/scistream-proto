<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Developer Guide - Scistream</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Developer Guide";
        var mkdocs_page_input_path = "dev-guide/README.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Scistream
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Index</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../quickstart/">Quickstart</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">About</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../about/Changelog/">Changelog</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Dev guide</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Developer Guide</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#software-components">Software components</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#s2ds-and-proxycontainer-documentation">S2DS and ProxyContainer Documentation</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#s2ds-class">S2DS Class</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#proxycontainer-and-subclasses">ProxyContainer and Subclasses</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">User guide</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../user-guide/">User Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../user-guide/auth/">Auth</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Scistream</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Dev guide</li>
      <li class="breadcrumb-item active">Developer Guide</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="developer-guide">Developer Guide</h1>
<h2 id="software-components">Software components</h2>
<ul>
<li><strong>SciStream Data Server (S2DS):</strong> software that runs on gateway nodes. It acts as a buffer-and-forward agent.</li>
<li><strong>SciStream User Client (S2UC):</strong> software that the end user and/or workflow engines/tools acting on behalf of the user interact with and provide relevant information (e.g., ID of a HPC job, ID of an experiment or data acquisition job on a scientific instrument, shared secret for secure communication with the user job (application) at the producer and consumer) to orchestrate end-to-end data streaming.</li>
<li><strong>SciStream Control Server (S2CS):</strong> a software running on one of the gateway nodes. It interacts with S2UC, data producer/consumer and S2DS.</li>
</ul>
<h2 id="s2ds-and-proxycontainer-documentation">S2DS and ProxyContainer Documentation</h2>
<p>The code consists mainly of the <code>S2DS</code> class and <code>ProxyContainer</code> subclasses, including <code>Haproxy</code>, <code>Nginx</code>, <code>Janus</code>, and <code>DockerSock</code>, which serve to establish and manage the data streaming pipelines using various networking and container technologies.</p>
<h3 id="s2ds-class">S2DS Class</h3>
<p>The <code>S2DS</code> class is responsible for managing the lifecycle of S2DS subprocesses, which are the forwarding element of the data streaming . It includes methods for starting subprocesses, managing listener ports, and releasing resources. The <code>start</code> method initiates a specified number of subprocesses, dynamically allocating ports and creating listener addresses. It also handles error conditions gracefully, raising a custom <code>S2DSException</code> when encountering issues. The <code>release</code> and <code>update_listeners</code> methods provide mechanisms for terminating subprocesses and updating connection information, respectively.</p>
<h3 id="proxycontainer-and-subclasses">ProxyContainer and Subclasses</h3>
<p>The <code>ProxyContainer</code> class and its subclasses (<code>Haproxy</code>, <code>Nginx</code>, <code>Janus</code>, <code>DockerSock</code>) are a specific implementation of S2DS and they abstract the complexities of deploying proxy containers to facilitate. These classes are designed to work with different Docker plugins and configurations, allowing for flexible deployment scenarios. Each subclass specifies its own container configuration, including the image name, container name, and configuration file locations. The <code>start</code> method in each class leverages Docker APIs to deploy and manage containers based on the provided configuration. Additionally, the <code>update_listeners</code> method in <code>ProxyContainer</code> demonstrates how to dynamically update listener configurations using Jinja2 templates.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../about/Changelog/" class="btn btn-neutral float-left" title="Changelog"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../user-guide/" class="btn btn-neutral float-right" title="User Guide">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../about/Changelog/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../user-guide/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
